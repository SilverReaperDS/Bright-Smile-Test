{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useFetch.js\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nexport default function useFetch(fetcher, deps = []) {\n  _s();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(Boolean(fetcher));\n  const [error, setError] = useState(null);\n  const abortRef = useRef(null);\n  const load = useCallback(async (...args) => {\n    var _abortRef$current, _abortRef$current$abo;\n    setLoading(true);\n    setError(null);\n    (_abortRef$current = abortRef.current) === null || _abortRef$current === void 0 ? void 0 : (_abortRef$current$abo = _abortRef$current.abort) === null || _abortRef$current$abo === void 0 ? void 0 : _abortRef$current$abo.call(_abortRef$current);\n    const controller = new AbortController();\n    abortRef.current = controller;\n    try {\n      const result = await fetcher({\n        signal: controller.signal,\n        args\n      });\n      if (!controller.signal.aborted) {\n        setData(result);\n      }\n    } catch (err) {\n      if (err.name === 'AbortError') {\n        // ignore abort\n      } else {\n        setError(err);\n      }\n    } finally {\n      if (!controller.signal.aborted) setLoading(false);\n    }\n  }, [fetcher]);\n  useEffect(() => {\n    if (!fetcher) return;\n    load();\n    return () => {\n      var _abortRef$current2, _abortRef$current2$ab;\n      (_abortRef$current2 = abortRef.current) === null || _abortRef$current2 === void 0 ? void 0 : (_abortRef$current2$ab = _abortRef$current2.abort) === null || _abortRef$current2$ab === void 0 ? void 0 : _abortRef$current2$ab.call(_abortRef$current2);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  const refetch = useCallback(() => load(), [load]);\n  return {\n    data,\n    loading,\n    error,\n    refetch\n  };\n}\n_s(useFetch, \"5YC13fH0mwsHz7TRHmiunxoP/a4=\");","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","useFetch","fetcher","deps","_s","data","setData","loading","setLoading","Boolean","error","setError","abortRef","load","args","_abortRef$current","_abortRef$current$abo","current","abort","call","controller","AbortController","result","signal","aborted","err","name","_abortRef$current2","_abortRef$current2$ab","refetch"],"sources":["C:/Users/Ayoub/Bright-Smile-Test/src/hooks/useFetch.js"],"sourcesContent":["// src/hooks/useFetch.js\r\n\r\nimport { useState, useEffect, useRef, useCallback } from 'react';\r\n\r\nexport default function useFetch(fetcher, deps = []) {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(Boolean(fetcher));\r\n  const [error, setError] = useState(null);\r\n  const abortRef = useRef(null);\r\n\r\n  const load = useCallback(async (...args) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    abortRef.current?.abort?.();\r\n    const controller = new AbortController();\r\n    abortRef.current = controller;\r\n\r\n    try {\r\n      const result = await fetcher({ signal: controller.signal, args });\r\n      if (!controller.signal.aborted) {\r\n        setData(result);\r\n      }\r\n    } catch (err) {\r\n      if (err.name === 'AbortError') {\r\n        // ignore abort\r\n      } else {\r\n        setError(err);\r\n      }\r\n    } finally {\r\n      if (!controller.signal.aborted) setLoading(false);\r\n    }\r\n  }, [fetcher]);\r\n\r\n  useEffect(() => {\r\n    if (!fetcher) return;\r\n    load();\r\n    return () => {\r\n      abortRef.current?.abort?.();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, deps);\r\n\r\n  const refetch = useCallback(() => load(), [load]);\r\n\r\n  return { data, loading, error, refetch };\r\n}"],"mappings":";AAAA;;AAEA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AAEhE,eAAe,SAASC,QAAQA,CAACC,OAAO,EAAEC,IAAI,GAAG,EAAE,EAAE;EAAAC,EAAA;EACnD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAACY,OAAO,CAACP,OAAO,CAAC,CAAC;EACxD,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAMe,QAAQ,GAAGb,MAAM,CAAC,IAAI,CAAC;EAE7B,MAAMc,IAAI,GAAGb,WAAW,CAAC,OAAO,GAAGc,IAAI,KAAK;IAAA,IAAAC,iBAAA,EAAAC,qBAAA;IAC1CR,UAAU,CAAC,IAAI,CAAC;IAChBG,QAAQ,CAAC,IAAI,CAAC;IACd,CAAAI,iBAAA,GAAAH,QAAQ,CAACK,OAAO,cAAAF,iBAAA,wBAAAC,qBAAA,GAAhBD,iBAAA,CAAkBG,KAAK,cAAAF,qBAAA,uBAAvBA,qBAAA,CAAAG,IAAA,CAAAJ,iBAA0B,CAAC;IAC3B,MAAMK,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IACxCT,QAAQ,CAACK,OAAO,GAAGG,UAAU;IAE7B,IAAI;MACF,MAAME,MAAM,GAAG,MAAMpB,OAAO,CAAC;QAAEqB,MAAM,EAAEH,UAAU,CAACG,MAAM;QAAET;MAAK,CAAC,CAAC;MACjE,IAAI,CAACM,UAAU,CAACG,MAAM,CAACC,OAAO,EAAE;QAC9BlB,OAAO,CAACgB,MAAM,CAAC;MACjB;IACF,CAAC,CAAC,OAAOG,GAAG,EAAE;MACZ,IAAIA,GAAG,CAACC,IAAI,KAAK,YAAY,EAAE;QAC7B;MAAA,CACD,MAAM;QACLf,QAAQ,CAACc,GAAG,CAAC;MACf;IACF,CAAC,SAAS;MACR,IAAI,CAACL,UAAU,CAACG,MAAM,CAACC,OAAO,EAAEhB,UAAU,CAAC,KAAK,CAAC;IACnD;EACF,CAAC,EAAE,CAACN,OAAO,CAAC,CAAC;EAEbJ,SAAS,CAAC,MAAM;IACd,IAAI,CAACI,OAAO,EAAE;IACdW,IAAI,CAAC,CAAC;IACN,OAAO,MAAM;MAAA,IAAAc,kBAAA,EAAAC,qBAAA;MACX,CAAAD,kBAAA,GAAAf,QAAQ,CAACK,OAAO,cAAAU,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkBT,KAAK,cAAAU,qBAAA,uBAAvBA,qBAAA,CAAAT,IAAA,CAAAQ,kBAA0B,CAAC;IAC7B,CAAC;IACD;EACF,CAAC,EAAExB,IAAI,CAAC;EAER,MAAM0B,OAAO,GAAG7B,WAAW,CAAC,MAAMa,IAAI,CAAC,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEjD,OAAO;IAAER,IAAI;IAAEE,OAAO;IAAEG,KAAK;IAAEmB;EAAQ,CAAC;AAC1C;AAACzB,EAAA,CAzCuBH,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}