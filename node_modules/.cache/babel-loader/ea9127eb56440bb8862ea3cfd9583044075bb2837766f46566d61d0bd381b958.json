{"ast":null,"code":"// src/services/api.js\n// Centralized API layer for fetching local JSON and posting form data.\n\nconst DATA_BASE = '/data';\nconst API_BASE = 'https://6947d3061ee66d04a44e061b.mockapi.io/brightsmile'; // MockAPI base\n\nasync function fetchJson(path) {\n  const res = await fetch(`${DATA_BASE}/${path}`);\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`Failed to fetch ${path}: ${res.status} ${text}`);\n  }\n  return res.json();\n}\nexport const getTestimonials = () => fetchJson('testimonials.json');\nexport const getServices = () => fetchJson('services.json');\nexport const getTeam = () => fetchJson('team.json');\nexport const getGallery = () => fetchJson('gallery.json');\nexport async function postRegister({\n  username,\n  password\n}) {\n  const res = await fetch(`${API_BASE}/users`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  });\n  if (!res.ok) {\n    const errorText = await res.text();\n    console.error('Registration error:', res.status, errorText);\n    throw new Error(`Registration failed: ${res.status}`);\n  }\n  return res.json();\n}\nexport async function postLogin({\n  username,\n  password\n}) {\n  const res = await fetch(`${API_BASE}/users`);\n  const users = await res.json();\n  const user = users.find(u => u.username === username && u.password === password);\n  if (!user) throw new Error('Invalid credentials');\n  const token = btoa(`${username}:${password}`); // Simulated token\n  localStorage.setItem('authToken', token);\n  localStorage.setItem('username', username);\n  return {\n    message: 'Login successful',\n    token\n  };\n}","map":{"version":3,"names":["DATA_BASE","API_BASE","fetchJson","path","res","fetch","ok","text","catch","Error","status","json","getTestimonials","getServices","getTeam","getGallery","postRegister","username","password","method","headers","body","JSON","stringify","errorText","console","error","postLogin","users","user","find","u","token","btoa","localStorage","setItem","message"],"sources":["C:/Users/Ayoub/Bright-Smile-Test/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\n// Centralized API layer for fetching local JSON and posting form data.\r\n\r\nconst DATA_BASE = '/data';\r\nconst API_BASE = 'https://6947d3061ee66d04a44e061b.mockapi.io/brightsmile'; // MockAPI base\r\n\r\n\r\nasync function fetchJson(path) {\r\n  const res = await fetch(`${DATA_BASE}/${path}`);\r\n  if (!res.ok) {\r\n    const text = await res.text().catch(() => '');\r\n    throw new Error(`Failed to fetch ${path}: ${res.status} ${text}`);\r\n  }\r\n  return res.json();\r\n}\r\n\r\n\r\nexport const getTestimonials = () => fetchJson('testimonials.json');\r\nexport const getServices = () => fetchJson('services.json');\r\nexport const getTeam = () => fetchJson('team.json');\r\nexport const getGallery = () => fetchJson('gallery.json');\r\n\r\n\r\nexport async function postRegister({ username, password }) {\r\n  const res = await fetch(`${API_BASE}/users`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ username, password }),\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const errorText = await res.text();\r\n    console.error('Registration error:', res.status, errorText);\r\n    throw new Error(`Registration failed: ${res.status}`);\r\n  }\r\n\r\n  return res.json();\r\n}\r\n\r\n\r\nexport async function postLogin({ username, password }) {\r\n  const res = await fetch(`${API_BASE}/users`);\r\n  const users = await res.json();\r\n\r\n  const user = users.find(\r\n    (u) => u.username === username && u.password === password\r\n  );\r\n\r\n  if (!user) throw new Error('Invalid credentials');\r\n\r\n  const token = btoa(`${username}:${password}`); // Simulated token\r\n  localStorage.setItem('authToken', token);\r\n  localStorage.setItem('username', username);\r\n  return { message: 'Login successful', token };\r\n}\r\n"],"mappings":"AAAA;AACA;;AAEA,MAAMA,SAAS,GAAG,OAAO;AACzB,MAAMC,QAAQ,GAAG,yDAAyD,CAAC,CAAC;;AAG5E,eAAeC,SAASA,CAACC,IAAI,EAAE;EAC7B,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,SAAS,IAAIG,IAAI,EAAE,CAAC;EAC/C,IAAI,CAACC,GAAG,CAACE,EAAE,EAAE;IACX,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACG,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,EAAE,CAAC;IAC7C,MAAM,IAAIC,KAAK,CAAC,mBAAmBN,IAAI,KAAKC,GAAG,CAACM,MAAM,IAAIH,IAAI,EAAE,CAAC;EACnE;EACA,OAAOH,GAAG,CAACO,IAAI,CAAC,CAAC;AACnB;AAGA,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAMV,SAAS,CAAC,mBAAmB,CAAC;AACnE,OAAO,MAAMW,WAAW,GAAGA,CAAA,KAAMX,SAAS,CAAC,eAAe,CAAC;AAC3D,OAAO,MAAMY,OAAO,GAAGA,CAAA,KAAMZ,SAAS,CAAC,WAAW,CAAC;AACnD,OAAO,MAAMa,UAAU,GAAGA,CAAA,KAAMb,SAAS,CAAC,cAAc,CAAC;AAGzD,OAAO,eAAec,YAAYA,CAAC;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAE;EACzD,MAAMd,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,QAAQ,EAAE;IAC3CkB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEN,QAAQ;MAAEC;IAAS,CAAC;EAC7C,CAAC,CAAC;EAEF,IAAI,CAACd,GAAG,CAACE,EAAE,EAAE;IACX,MAAMkB,SAAS,GAAG,MAAMpB,GAAG,CAACG,IAAI,CAAC,CAAC;IAClCkB,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEtB,GAAG,CAACM,MAAM,EAAEc,SAAS,CAAC;IAC3D,MAAM,IAAIf,KAAK,CAAC,wBAAwBL,GAAG,CAACM,MAAM,EAAE,CAAC;EACvD;EAEA,OAAON,GAAG,CAACO,IAAI,CAAC,CAAC;AACnB;AAGA,OAAO,eAAegB,SAASA,CAAC;EAAEV,QAAQ;EAAEC;AAAS,CAAC,EAAE;EACtD,MAAMd,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,QAAQ,CAAC;EAC5C,MAAM2B,KAAK,GAAG,MAAMxB,GAAG,CAACO,IAAI,CAAC,CAAC;EAE9B,MAAMkB,IAAI,GAAGD,KAAK,CAACE,IAAI,CACpBC,CAAC,IAAKA,CAAC,CAACd,QAAQ,KAAKA,QAAQ,IAAIc,CAAC,CAACb,QAAQ,KAAKA,QACnD,CAAC;EAED,IAAI,CAACW,IAAI,EAAE,MAAM,IAAIpB,KAAK,CAAC,qBAAqB,CAAC;EAEjD,MAAMuB,KAAK,GAAGC,IAAI,CAAC,GAAGhB,QAAQ,IAAIC,QAAQ,EAAE,CAAC,CAAC,CAAC;EAC/CgB,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEH,KAAK,CAAC;EACxCE,YAAY,CAACC,OAAO,CAAC,UAAU,EAAElB,QAAQ,CAAC;EAC1C,OAAO;IAAEmB,OAAO,EAAE,kBAAkB;IAAEJ;EAAM,CAAC;AAC/C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}